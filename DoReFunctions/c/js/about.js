"use strict";(self["webpackChunkdns_frontend"]=self["webpackChunkdns_frontend"]||[]).push([[443],{434:function(n,s,e){e.r(s),e.d(s,{default:function(){return C}});var o=e(3396);const a={class:"container"},r=(0,o._)("h1",{class:"mt-3"},"Login Page",-1),t={class:"row"};function i(n,s,e,i,d,l){const u=(0,o.up)("LoginForm");return(0,o.wg)(),(0,o.iD)("div",a,[r,(0,o._)("div",t,[(0,o.Wm)(u)])])}var d=e(9242);const l=n=>((0,o.dD)("data-v-3dd0e943"),n=n(),(0,o.Cn)(),n),u={class:"login-container"},c=l((()=>(0,o._)("h2",null,"Login",-1))),m={class:"form-group"},p=l((()=>(0,o._)("label",{for:"username"},"Username:",-1))),f={class:"form-group"},w=l((()=>(0,o._)("label",{for:"password"},"Password:",-1))),g=l((()=>(0,o._)("button",{type:"submit",class:"btn btn-primary"},"Login",-1)));function h(n,s,e,a,r,t){return(0,o.wg)(),(0,o.iD)("div",u,[c,(0,o._)("form",{onSubmit:s[2]||(s[2]=(0,d.iM)(((...n)=>t.login&&t.login(...n)),["prevent"])),class:"login-form"},[(0,o._)("div",m,[p,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>r.username=n),id:"username",name:"username",type:"text",class:"form-control"},null,512),[[d.nr,r.username]])]),(0,o._)("div",f,[w,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>r.password=n),id:"password",name:"password",type:"password",class:"form-control"},null,512),[[d.nr,r.password]])]),g],32)])}e(7658);var _={data(){return{username:"",password:""}},methods:{async login(){const n=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})});if(n.ok){const s=await n.json();sessionStorage.setItem("token",s.accessToken),this.$router.push({name:"home"})}else alert("Login failed, please check your username and password")}}},v=e(89);const y=(0,v.Z)(_,[["render",h],["__scopeId","data-v-3dd0e943"]]);var b=y,k={name:"LoginView",components:{LoginForm:b}};const L=(0,v.Z)(k,[["render",i]]);var C=L}}]);
//# sourceMappingURL=about.js.map